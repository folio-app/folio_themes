!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ramjet=t()}(this,function(){"use strict";function e(){document.body.appendChild(b),w=!0}function t(e){var n=e.cloneNode(),o=void 0,i=void 0,r=void 0;if(1===e.nodeType)for(o=window.getComputedStyle(e),v.forEach(function(e){n.style[e]=o[e]}),i=e.childNodes.length,r=0;i>r;r+=1)n.appendChild(t(e.childNodes[r]));return n}function n(e){var n=e.namespaceURI===g,o=e.getBoundingClientRect(),i=o.left,r=o.right,a=o.top,s=o.bottom,d=window.getComputedStyle(e),l=t(e),c={node:e,clone:l,isSvg:n,cx:(i+r)/2,cy:(a+s)/2,width:r-i,height:s-a,transform:null,borderRadius:null};if(n){var u=e.getScreenCTM();c.transform="matrix("+[u.a,u.b,u.c,u.d,u.e,u.f].join(",")+")",c.borderRadius=[0,0,0,0],b.appendChild(l)}else{var f=e.offsetParent,m=window.getComputedStyle(f),y=f.getBoundingClientRect();l.style.position="absolute",l.style.top=a-parseInt(d.marginTop,10)-(y.top-parseInt(m.marginTop,10))+"px",l.style.left=i-parseInt(d.marginLeft,10)-(y.left-parseInt(m.marginLeft,10))+"px",c.transform="",c.borderRadius=[parseFloat(d.borderTopLeftRadius),parseFloat(d.borderTopRightRadius),parseFloat(d.borderBottomRightRadius),parseFloat(d.borderBottomLeftRadius)],e.parentNode.appendChild(l)}return c}function o(e){e.__ramjetOriginalTransition__=e.style.transition,e.style.transition="",e.style.opacity=0}function i(e){e.style.transition="",e.style.opacity=1,e.__ramjetOriginalTransition__&&setTimeout(function(){e.style.transition=e.__ramjetOriginalTransition__})}function r(e,t,n,o,i,r,a,s){var d=e?"translate("+t+" "+n+") scale("+(1+s*r)+" "+(1+s*a)+") translate("+-t+" "+-n+") translate("+s*o+" "+s*i+")":"translate("+s*o+"px,"+s*i+"px) scale("+(1+s*r)+","+(1+s*a)+")";return d}function a(e,t,n,o,i){var r=1+i*n,a=1+i*o;return e.map(function(e,n){var o=t[n],s=(e+i*(o-e))/r,d=(e+i*(o-e))/a;return""+s+"px "+d+"px"})}function s(e){return e}function d(e){return Math.pow(e,3)}function l(e){return Math.pow(e-1,3)+1}function c(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){var t=document.createElement("style");t.type="text/css";var n=document.getElementsByTagName("head")[0],o=t.styleSheet;return o?o.cssText=e:t.innerHTML=e,n.appendChild(t),function(){return n.removeChild(t)}}function y(e,t,n){function o(n,o){var i=e.cx+r*o,s=e.cy+a*o,f=T(e.borderRadius,t.borderRadius,d,l,o),m=T(t.borderRadius,e.borderRadius,c,u,1-o),h=R(!1,i,s,r,a,d,l,o)+" "+e.transform,v=R(!1,i,s,-r,-a,c,u,1-o)+" "+t.transform;y.push("\n      "+n+"% {\n        opacity: "+(1-o)+";\n       border-top-left-radius: "+f[0]+";\n       border-top-right-radius: "+f[1]+";\n        border-bottom-right-radius: "+f[2]+";\n       border-bottom-left-radius: "+f[3]+";\n        "+_+": "+h+";\n     }"),p.push("\n      "+n+"% {\n        opacity: "+o+";\n       border-top-left-radius: "+m[0]+";\n       border-top-right-radius: "+m[1]+";\n        border-bottom-right-radius: "+m[2]+";\n       border-bottom-left-radius: "+m[3]+";\n        "+_+": "+v+";\n     }")}var i,r=t.cx-e.cx,a=t.cy-e.cy,d=t.width/e.width-1,l=t.height/e.height-1,c=e.width/t.width-1,u=e.height/t.height-1,f=n.easing||s,m=n.duration/50,y=[],p=[];for(i=0;m>i;i+=1){var h=100*(i/m),v=f(i/m);o(h,v)}return o(100,1),y=y.join("\n"),p=p.join("\n"),{fromKeyframes:y,toKeyframes:p}}var p=["length","parentRule"],h=void 0;h="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(e){return!~p.indexOf(e)});var v=h,g="http://www.w3.org/2000/svg",b=document.createElementNS(g,"svg");b.style.position="fixed",b.style.top=b.style.left="0",b.style.width=b.style.height="100%",b.style.overflow="visible",b.style.pointerEvents="none",b.setAttribute("class","mogrify-svg");var w=!1,R=r,T=a,C=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)},x=C,S=function(e,t,n){function o(){var s=Date.now(),u=s-f;if(u>m)return e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),void(n.done&&n.done());var p=y(u/m);e.clone.style.opacity=1-p,t.clone.style.opacity=p;var h=T(e.borderRadius,t.borderRadius,p);e.clone.style.borderTopLeftRadius=t.clone.style.borderTopLeftRadius=h[0],e.clone.style.borderTopRightRadius=t.clone.style.borderTopRightRadius=h[1],e.clone.style.borderBottomRightRadius=t.clone.style.borderBottomRightRadius=h[2],e.clone.style.borderBottomLeftRadius=t.clone.style.borderBottomLeftRadius=h[3];var v=e.cx+i*p,g=e.cy+r*p,b=R(e.isSvg,v,g,i,r,a,d,p)+" "+e.transform,w=R(t.isSvg,v,g,-i,-r,l,c,1-p)+" "+t.transform;e.isSvg?e.clone.setAttribute("transform",b):e.clone.style.transform=e.clone.style.webkitTransform=e.clone.style.msTransform=b,t.isSvg?t.clone.setAttribute("transform",w):t.clone.style.transform=t.clone.style.webkitTransform=t.clone.style.msTransform=w,x(o)}u(this,S);var i=t.cx-e.cx,r=t.cy-e.cy,a=t.width/e.width-1,d=t.height/e.height-1,l=e.width/t.width-1,c=e.height/t.height-1,f=Date.now(),m=n.duration||400,y=n.easing||s;o()},k=S,A=document.createElement("div"),E=!0,_=void 0,j=void 0,N=void 0,L=void 0,O=void 0,B=void 0,I=void 0,F=void 0,M=!window.ActiveXObject&&"ActiveXObject"in window;!M&&("transform"in A.style||"webkitTransform"in A.style)&&("animation"in A.style||"webkitAnimation"in A.style)?(E=!0,_="transform"in A.style?"transform":"-webkit-transform","animation"in A.style?(j="@keyframes",N="animationDirection",L="animationDuration",O="animationIterationCount",B="animationName",I="animationTimingFunction",F="animationend"):(j="@-webkit-keyframes",N="webkitAnimationDirection",L="webkitAnimationDuration",O="webkitAnimationIterationCount",B="webkitAnimationName",I="webkitAnimationTimingFunction",F="webkitAnimationEnd")):E=!1;var D=function(e,t,n){function o(){u&&p&&(e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),n.done&&n.done(),c())}f(this,D);var i=y(e,t,n),r=i.fromKeyframes,a=i.toKeyframes,s="_"+~~(1e6*Math.random()),d="_"+~~(1e6*Math.random()),l=""+j+" "+s+" { "+r+" } "+j+" "+d+" { "+a+" }",c=m(l);e.clone.style[N]="alternate",e.clone.style[L]=""+n.duration/1e3+"s",e.clone.style[O]=1,e.clone.style[B]=s,e.clone.style[I]="linear",t.clone.style[N]="alternate",t.clone.style[L]=""+n.duration/1e3+"s",t.clone.style[O]=1,t.clone.style[B]=d,t.clone.style[I]="linear";var u=void 0,p=void 0;e.clone.addEventListener(F,function(){u=!0,o()}),t.clone.addEventListener(F,function(){p=!0,o()})},K=D,P={transform:function(t,o){var i=void 0===arguments[2]?{}:arguments[2];"function"==typeof i&&(i={done:i}),"duration"in i||(i.duration=400);var r=n(t),a=n(o);return(r.isSvg||a.isSvg&&!w)&&e(),!E||i.useTimer||r.isSvg||a.isSvg?new k(r,a,i):new K(r,a,i)},hide:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(o)},show:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t.forEach(i)},linear:s,easeIn:d,easeOut:l,easeInOut:c};return P});